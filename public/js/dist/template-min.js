function getCartItems(){return fetch(MAIN_PATH+"/cart/stock",{method:"GET",headers:{Accept:"application/json"}})}function updateCartItem(t,e){return fetch(MAIN_PATH+"/cart/update/"+t,{method:"POST",body:e})}function deleteCartItems(t){return fetch(MAIN_PATH+"/cart/remove/"+t,{method:"GET",headers:{Accept:"application/json"}})}function displayCart(t){const e=t.map(t=>`\n            <div class="item">\n                <div class="itemPicture">\n                    <img src="${MAIN_PATH}/img/product-img.png">\n                </div>\n                <div class="itemInfo">\n                    <span>${t.name}</span>\n                    <span class="priceProduct">${t.price*t.quantity} €</span>\n                </div>\n                <div class="itemQuantity">\n                    <form action="${MAIN_PATH}/cart/update" method="POST" class="update-form" data-product-id="${t.product_id}">\n                        <span>\n                            <input type="number" name="quantity" value="${t.quantity}" min="1" max="99" class="product_quantity">\n                            <input class="newQuantityBtn" type="submit" name="newQuantity" value="Valider">\n                        </span>\n                    </form>\n                </div>\n                <div class="itemDelete">\n                    <button class="imageBtn delete-product" data-product-id="${t.product_id}"><img src="${MAIN_PATH}/img/close-btn.png" alt="deleteProduct"></button>\n                </div>\n            </div>\n         `).join("");document.querySelector(".listShopping .container-products").innerHTML=e;const n=Array.from(document.querySelector(".delete-product")),r=Array.from(document.querySelector(".update-form"));n.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),confirm("Êtes-vous sûr de vouloir supprimer cet article de votre panier")&&deleteCartItems().then(()=>getCartItems()).then(t=>{displayCart(t)})})}),r.forEach(t=>{t.addEventListener("submit",t=>{t.preventDefault();const e=t.currentTarget,n=e.children().children("input[type=number]").val(),r=e.data("productId");console.log(product_id),updateCartItem(r,{quantity:n}).then(t=>{displayCart(t)})})})}getCartItems().then(t=>t.json()).then(t=>{displayCart(t)}).catch(t=>{console.log(t)}),function(){const t=Array.from(document.querySelectorAll(".basketIcon")),e=document.querySelector("#listShopping");Array.isArray(t)&&(e.style.display="none",t.forEach(t=>{t.addEventListener("click",function(){e.style.display="none"===e.style.display?"block":"none"})}));const n=document.querySelector("#burger-btn"),r=document.querySelector("#nav-bar");n.addEventListener("click",()=>{r.classList.toggle("header--nav--enable")?(document.body.style="overflow:hidden",window.scrollTo(0,0)):document.body.style=null,n.classList.toggle("header--burger-btn--enable")})}();const alertBtn=document.querySelector("#alert-btn"),alertModal=document.querySelector("#alert-modal");alertModal&&alertBtn&&alertBtn.addEventListener("click",()=>{alertModal.style.display="none"}),console.log("adds");